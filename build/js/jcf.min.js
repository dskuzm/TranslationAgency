!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):e.jcf=t(jQuery)}(this,function(e){"use strict";var t=[],n={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"},o="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,a=/Windows Phone/.test(navigator.userAgent);n.isMobileDevice=!(!o&&!a);var i=function(){var t=e("<style>").appendTo("head"),o=t.prop("sheet")||t.prop("styleSheet"),a=function(e,t,n){n=n||0,o.insertRule?o.insertRule(e+"{"+t+"}",n):o.addRule(e,t,n)};a("."+n.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none"),a("."+n.rtlClass+" ."+n.hiddenClass,"right:-9999px !important; left: auto !important"),a("."+n.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);"),a("."+n.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var i=e("html"),r=e("body");"rtl"!==i.css("direction")&&"rtl"!==r.css("direction")||i.addClass(n.rtlClass),i.on("reset",function(){setTimeout(function(){s.refreshAll()},0)}),n.styleSheetCreated=!0};!function(){var t,n=navigator.pointerEnabled||navigator.msPointerEnabled,o="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,a={};t=n?{pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}:{pointerover:"mouseover",pointerdown:"mousedown"+(o?" touchstart":""),pointermove:"mousemove"+(o?" touchmove":""),pointerup:"mouseup"+(o?" touchend":"")},e.each(t,function(t,n){e.each(n.split(" "),function(e,n){a[n]=t})}),e.each(t,function(t,n){n=n.split(" "),e.event.special["jcf-"+t]={setup:function(){var t=this;e.each(n,function(e,n){t.addEventListener?t.addEventListener(n,s,!1):t["on"+n]=s})},teardown:function(){var t=this;e.each(n,function(e,n){t.addEventListener?t.removeEventListener(n,s,!1):t["on"+n]=null})}}});var i=null,r=function(e){var t=Math.abs(e.pageX-i.x),n=Math.abs(e.pageY-i.y);if(t<=25&&n<=25)return!0},s=function(t){var n=t||window.event,o=null,s=a[n.type];if(t=e.event.fix(n),t.type="jcf-"+s,n.pointerType)switch(n.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=n.pointerType}else t.pointerType=n.type.substr(0,5);return t.pageX||t.pageY||(o=n.changedTouches?n.changedTouches[0]:n,t.pageX=o.pageX,t.pageY=o.pageY),"touchend"===n.type&&(i={x:t.pageX,y:t.pageY}),"mouse"===t.pointerType&&i&&r(t)?void 0:(e.event.dispatch||e.event.handle).call(this,t)}}(),function(){var t=("onwheel"in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" ");e.event.special["jcf-mousewheel"]={setup:function(){var o=this;e.each(t,function(e,t){o.addEventListener?o.addEventListener(t,n,!1):o["on"+t]=n})},teardown:function(){var o=this;e.each(t,function(e,t){o.addEventListener?o.removeEventListener(t,n,!1):o["on"+t]=null})}};var n=function(t){var n=t||window.event;if(t=e.event.fix(n),t.type="jcf-mousewheel","detail"in n&&(t.deltaY=-n.detail),"wheelDelta"in n&&(t.deltaY=-n.wheelDelta),"wheelDeltaY"in n&&(t.deltaY=-n.wheelDeltaY),"wheelDeltaX"in n&&(t.deltaX=-n.wheelDeltaX),"deltaY"in n&&(t.deltaY=n.deltaY),"deltaX"in n&&(t.deltaX=n.deltaX),t.delta=t.deltaY||t.deltaX,1===n.deltaMode){t.delta*=16,t.deltaY*=16,t.deltaX*=16}return(e.event.dispatch||e.event.handle).call(this,t)}}();var r={fireNativeEvent:function(t,n){e(t).each(function(){var e,t=this;t.dispatchEvent?((e=document.createEvent("HTMLEvents")).initEvent(n,!0,!0),t.dispatchEvent(e)):document.createEventObject&&((e=document.createEventObject()).target=t,t.fireEvent("on"+n,e))})},bindHandlers:function(){var t=this;e.each(t,function(n,o){0===n.indexOf("on")&&e.isFunction(o)&&(t[n]=function(){return o.apply(t,arguments)})})}},s={version:"1.2.3",modules:{},getOptions:function(){return e.extend({},n)},setOptions:function(t,o){arguments.length>1?this.modules[t]&&e.extend(this.modules[t].prototype.options,o):e.extend(n,t)},addModule:function(o){e.isFunction(o)&&(o=o(e,window));var a=function(o){o.element.data(n.dataKey)||o.element.data(n.dataKey,this),t.push(this),this.options=e.extend({},n,this.options,i(o.element),o),this.bindHandlers(),this.init.apply(this,arguments)},i=function(t){var o=t.data(n.optionsKey),a=t.attr(n.optionsKey);if(o)return o;if(a)try{return e.parseJSON(a)}catch(e){}};a.prototype=o,e.extend(o,r),o.plugins&&e.each(o.plugins,function(t,n){e.extend(n.prototype,r)});var s=a.prototype.destroy;a.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var e=t.length-1;e>=0;e--)if(t[e]===this){t.splice(e,1);break}s&&s.apply(this,arguments)},this.modules[o.name]=a},getInstance:function(t){return e(t).data(n.dataKey)},replace:function(t,o,a){var r,s=this;return n.styleSheetCreated||i(),e(t).each(function(){var t,i=e(this);(r=i.data(n.dataKey))?r.refresh():(o||e.each(s.modules,function(e,t){if(t.prototype.matchElement.call(t.prototype,i))return o=e,!1}),o&&(t=e.extend({element:i},a),r=new s.modules[o](t)))}),r},refresh:function(t){e(t).each(function(){var t=e(this).data(n.dataKey);t&&t.refresh()})},destroy:function(t){e(t).each(function(){var t=e(this).data(n.dataKey);t&&t.destroy()})},replaceAll:function(t){var n=this;e.each(this.modules,function(o,a){e(a.prototype.selector,t).each(function(){this.className.indexOf("jcf-ignore")<0&&n.replace(this,o)})})},refreshAll:function(o){if(o)e.each(this.modules,function(t,a){e(a.prototype.selector,o).each(function(){var t=e(this).data(n.dataKey);t&&t.refresh()})});else for(var a=t.length-1;a>=0;a--)t[a].refresh()},destroyAll:function(o){if(o)e.each(this.modules,function(t,a){e(a.prototype.selector,o).each(function(t,o){var a=e(o).data(n.dataKey);a&&a.destroy()})});else for(;t.length;)t[0].destroy()}};return"function"==typeof define&&define.amd&&(window.jcf=s),s});
